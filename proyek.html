<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tabel RAB</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header class="header">
    Tabel RAB
  </header>  <div class="container">
    <div class="button-row">
      <button onclick="openSlideMaterial()">Tambah Perhitungan Material</button>
      <button onclick="saveProject()" class="float-btn">Simpan Proyek</button>
    </div><div class="table-container">
  <table id="rabTable" class="styled-table">
    <thead>
      <tr>
        <th>Nama Ruangan</th>
        <th>Pekerjaan</th>
        <th>Kebutuhan Bahan</th>
        <th>Opsi</th>
      </tr>
    </thead>
    <tbody id="rabBody"></tbody>
  </table>
</div>

  </div>  <!-- Slide Material -->  <div class="slide" id="materialSlide">
    <h2 class="slide-title">Pilih Jenis Perhitungan</h2>
    <ul class="slide-options">
      <li onclick="redirect('material_pondasi.html')">Perhitungan Material Pondasi</li>
      <li onclick="redirect('material_sloof.html')">Perhitungan Material Sloof</li>
      <li onclick="redirect('material_dinding.html')">Perhitungan Material Dinding</li>
      <li onclick="redirect('material_cat.html')">Perhitungan Material Cat</li>
      <li onclick="redirect('material_atap.html')">Perhitungan Material Atap</li>
      <li onclick="redirect('material_plafon.html')">Perhitungan Material Plafon</li>
      <li onclick="redirect('material_keramik.html')">Perhitungan Material Keramik</li>
    </ul>
    <button class="btn-kembali" onclick="closeSlide('materialSlide')">Kembali</button>
  </div>  <script>
    let rabData = [];

    function openSlideMaterial() {
      document.getElementById("materialSlide").classList.add("show");
    }

    function closeSlide(id) {
      document.getElementById(id).classList.remove("show");
    }

    function redirect(page) {
      window.location.href = page;
    }

    function saveProject() {
      const name = prompt("Beri nama untuk proyek ini:");
      if (name && rabData.length > 0) {
        localStorage.setItem(`project_${name}`, JSON.stringify(rabData));
        alert("Proyek berhasil disimpan.");
      } else {
        alert("Tidak ada data yang disimpan.");
      }
    }

    function renderTable() {
      const tbody = document.getElementById("rabBody");
      tbody.innerHTML = '';
      rabData.forEach((row, index) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${row.nama}</td>
          <td>${row.pekerjaan}</td>
          <td>${row.bahan}</td>
          <td><button class="delete-btn" onclick="hapusBaris(${index})">Hapus</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function hapusBaris(index) {
      rabData.splice(index, 1);
      renderTable();
    }

    window.addEventListener('DOMContentLoaded', () => {
      const data = sessionStorage.getItem("rab_temp");
      if (data) {
        const parsed = JSON.parse(data);
        rabData.push(parsed);
        renderTable();
        sessionStorage.removeItem("rab_temp");
      }
    });
  </script></body>
</html>

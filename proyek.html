<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Tabel RAB</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>Tabel RAB</header>  <div class="container">
    <div class="button-row">
      <button onclick="showMaterialSlide()">Tambah Perhitungan Material</button>
    </div>
    <div class="table-container">
      <table id="rabTable">
        <thead>
          <tr>
            <th>Nama Ruangan</th>
            <th>Pekerjaan</th>
            <th>Kebutuhan Bahan</th>
            <th>Opsi</th>
          </tr>
        </thead>
        <tbody id="rabBody"></tbody>
      </table>
    </div>
  </div><button id="btnSaveProject" onclick="saveProject()">Simpan Proyek</button>

  <div class="slide" id="materialSlide">
    <h2 class="slideTitle">Pilih Material</h2>
    <ul class="slideOptions">
      <li onclick="navigateTo('pondasi')">Material Pondasi</li>
      <li onclick="navigateTo('sloof')">Material Sloof</li>
      <li onclick="navigateTo('dinding')">Material Dinding</li>
      <li onclick="navigateTo('cat')">Material Cat</li>
      <li onclick="navigateTo('atap')">Material Atap</li>
      <li onclick="navigateTo('plafon')">Material Plafon</li>
      <li onclick="navigateTo('keramik')">Material Keramik</li>
    </ul>
    <button class="btnBack" onclick="closeMaterialSlide()">Kembali</button>
  </div>  <script>
    let rabData = [];

    function showMaterialSlide() {
      document.getElementById("materialSlide").classList.add("show");
    }

    function closeMaterialSlide() {
      document.getElementById("materialSlide").classList.remove("show");
    }

    function navigateTo(page) {
      window.location.href = `perhitungan_${page}.html`;
    }

    function saveProject() {
      const name = prompt("Beri nama untuk proyek ini:");
      if (name && rabData.length > 0) {
        localStorage.setItem(`project_${name}`, JSON.stringify(rabData));
        alert("Proyek berhasil disimpan.");
      } else {
        alert("Tidak ada data yang disimpan.");
      }
    }

    function renderTable() {
      const tbody = document.getElementById("rabBody");
      tbody.innerHTML = '';
      rabData.forEach((row, index) => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td>${row.nama}</td>
          <td>${row.pekerjaan}</td>
          <td>${row.bahan}</td>
          <td><button onclick="hapusBaris(${index})">âœ•</button></td>
        `;
        tbody.appendChild(tr);
      });
    }

    function hapusBaris(index) {
      rabData.splice(index, 1);
      renderTable();
    }

    window.addEventListener('DOMContentLoaded', () => {
      const data = sessionStorage.getItem("rab_temp");
      if (data) {
        const parsed = JSON.parse(data);
        rabData.push(parsed);
        renderTable();
        sessionStorage.removeItem("rab_temp");
      }
    });
  </script></body>
</html>
